<%- include('../partials/header') %>

<div class="flex min-h-screen">
  <!-- Side Navigation -->
  <aside class="w-64 bg-blue-900 text-yellow-400 flex-shrink-0 border-r-2 border-yellow-400 sticky top-0">
    <div class="p-4">
      <!-- User Profile -->
      <section class="text-center border-b border-yellow-400 pb-4">
        <div class="profile-container">
          <img
            class="w-24 h-24 rounded-full mx-auto border-2 border-yellow-400 object-cover mb-3"
            src="<%= user.profileImage || 'https://www.shutterstock.com/image-vector/avatar-gender-neutral-silhouette-vector-600nw-2470054311.jpg' %>"
            alt="Profile Picture"
            id="userAvatar"
          >
          <div class="user-info">
            <h2 class="text-white text-lg font-bold"><%= user.username %></h2>
            <span class="text-yellow-400 text-sm"><%= user.email %></span>
            <div class="mt-1">
              <span>Role:</span>
              <span class="bg-yellow-400 text-blue-900 px-2 py-1 rounded text-xs">
                <%= user.role %>
              </span>
            </div>
          </div>
          <div class="mt-3">
            <a 
              href="/edit" 
              class="inline-block bg-yellow-400 text-blue-900 px-3 py-1 rounded text-sm"
            >
              Edit Profile
            </a>
          </div>
        </div>
      </section>

      <!-- Navigation Menu -->
      <section class="mt-6">
        <nav>
          <ul class="space-y-3">
            <% if (user.role === 'SHOP_OWNER') { %>
              <li>
                <a 
                  href="/products/add" 
                  target="main-content"
                  class="block text-yellow-400 hover:underline"
                >
                  Add Products
                </a>
              </li>
              <li>
                <a 
                  href="/products" 
                  target="main-content"
                  class="block text-yellow-400 hover:underline"
                >
                  View Products
                </a>
              </li>
              <li>
                <a 
                  href="/categories/" 
                  target="main-content"
                  class="block text-yellow-400 hover:underline"
                >
                  Categories
                </a>
              </li>
            <% } else { %>
              <li>
                <a 
                  href="/order" 
                  target="main-content"
                  class="block text-yellow-400 hover:underline"
                >
                  Browse Products
                </a>
              </li>
              <li>
                <a 
                  href="/order/orders" 
                  target="main-content"
                  class="block text-yellow-400 hover:underline"
                >
                  My Orders
                </a>
              </li>
              <li>
                <a 
                  href="/order/cart" 
                  target="main-content"
                  class="block text-yellow-400 hover:underline"
                >
                  My Cart
                </a>
              </li>
            <% } %>
          </ul>
        </nav>
      </section>
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="flex-1 bg-gray-100 p-6">
    <div class="content">
      <iframe 
        name="main-content"
        class="w-full h-screen border-none"
        src="<%= user.role === 'SHOP_OWNER' ? '/products/add' : '/order' %>"
      >
      </iframe>
    </div>
  </main>
</div>

<%- include('../partials/footer') %>